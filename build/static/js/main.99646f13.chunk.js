(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{28:function(e,t,a){e.exports=a.p+"static/media/logo.1e4b44f8.svg"},29:function(e,t,a){e.exports=a.p+"static/media/telegram.85b09beb.gif"},30:function(e,t,a){e.exports=a.p+"static/media/instagram.3e473d11.gif"},31:function(e,t,a){e.exports=a.p+"static/media/phone.56c51270.gif"},35:function(e,t,a){e.exports=a(65)},57:function(e,t,a){},58:function(e,t,a){e.exports=a.p+"static/media/img1.08f9ad4c.jpg"},59:function(e,t,a){e.exports=a.p+"static/media/img2.5a458116.jpg"},60:function(e,t,a){e.exports=a.p+"static/media/img3.5f8c34c7.jpg"},61:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(25),l=a.n(r),o=a(3),s=a(4),i=a(6),m=a(1),u=a(2),d="http://localhost:3001/api",p=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},E=a(26),f=a.n(E),b=function(e){return fetch("".concat(d,"/products?sortBy=").concat(e,"&order=desc&limit=9"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},g=function(){return fetch("".concat(d,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},h=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={limit:t,skip:e,filters:a};return fetch("".concat(d,"/products/by/search"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},N=function(e){var t=e.item,a=e.url;return c.a.createElement("div",{className:"product-img"},c.a.createElement("img",{src:"".concat(d,"/").concat(a,"/photo/").concat(t._id),alt:t.name,className:"mb-3",style:{maxHeight:"100%",maxWidth:"500px",width:"100%"}}))};var v=function(){return c.a.createElement("div",{className:"loading"},c.a.createElement("div",{className:"lds-spinner"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null)))};var j=function(e){var t=e.setModal,a=e.id,r=e.product,l=e.setSoldModal,o=Object(n.useState)({emaunt:1,price:r.price,name:"",tel:"",loading:!1,error:""}),s=Object(u.a)(o,2),p=s[0],E=s[1],f=p.emaunt,b=p.price,g=p.name,h=p.tel,N=p.loading,j=p.error,y=function(e){return function(t){var a="tel"===e?t.target.value.slice(0,12):t.target.value;E(Object(m.a)(Object(m.a)({},p),{},Object(i.a)({},e,a)))}};return c.a.createElement("div",{className:"modalWrapper"},N&&c.a.createElement(v,null),c.a.createElement("div",{className:"p-3 bg-white modalBody"},c.a.createElement("header",{className:"d-flex align-items-center justify-content-between"},c.a.createElement("h5",{className:"m-0 mb-2"},"Ma'lumotlarni kiriting"),c.a.createElement("button",{className:"btn close p-1",onClick:function(){t(!1)}},"x")),c.a.createElement("div",null,c.a.createElement("div",{className:"mb-2 d-flex align-items-center"},c.a.createElement("img",{className:"border mr-3",width:"150px",src:"".concat(d,"/product/photo/").concat(r._id),alt:"img"}),c.a.createElement("div",{className:"mt-3"},c.a.createElement("p",null,r.name),c.a.createElement("p",null,b," so'm"),c.a.createElement("div",{className:"d-flex align-items-center"},c.a.createElement("button",{onClick:function(){E(Object(m.a)(Object(m.a)({},p),{},{emaunt:1!==f?f-1:1,price:b!==r.price?b-r.price:r.price}))},className:"btn border rounded"},"-"),c.a.createElement("p",{className:"pt-3 pl-3 pr-3"},f),c.a.createElement("button",{onClick:function(){E(Object(m.a)(Object(m.a)({},p),{},{emaunt:f+1,price:b+r.price}))},className:"btn border rounded"},"+")))),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),E(Object(m.a)(Object(m.a)({},p),{},{error:"",loading:!0}));var n=h.split("").length;if(n<12||n>12)return E(Object(m.a)(Object(m.a)({},p),{},{error:"Telefon raqamni tekshirib qaytadan kiriting!"}));(function(e,t,a,n,c){var r={emaunt:t,price:a,name:n,tel:c};return fetch("".concat(d,"/order/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))})(a,f,b,g,h).then((function(e){"ok"===e.message?(E(Object(m.a)(Object(m.a)({},p),{},{name:"",tel:0,loading:!1,error:""})),t(!1),l(!0)):E(Object(m.a)(Object(m.a)({},p),{},{error:e.error}))}))}},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Ismingizni kiriting"),c.a.createElement("input",{className:"form-control",name:"name",type:"text",placeholder:"Ism",onChange:y("name"),required:!0})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Telefon raqamingizni kiriting"),c.a.createElement("input",{className:"form-control",value:h,name:"tel",type:"number",placeholder:"998901234567",onChange:y("tel"),maxLength:13,minLength:12,required:!0})),c.a.createElement("button",{className:"btn btn-warning btn-block",type:"submit"},"Buyurtma qilish")),j&&c.a.createElement("p",{className:"mt-2 text-danger"},j))))};var y=function(e){var t=e.setSoldModal;return c.a.createElement("div",{className:"modalWrapper"},c.a.createElement("div",{className:"p-3 bg-white modalBody"},c.a.createElement("header",{className:"d-flex align-items-center justify-content-between mb-5"},c.a.createElement("h5",{className:"m-0"},"Buyurtmangiz qabul qilindi!"),c.a.createElement("button",{className:"btn close p-1",onClick:function(){t(!1)}},"x")),c.a.createElement("div",{className:"text-center"},c.a.createElement("div",{className:"success-checkmark"},c.a.createElement("div",{className:"check-icon"},c.a.createElement("span",{className:"icon-line line-tip"}),c.a.createElement("span",{className:"icon-line line-long"}),c.a.createElement("div",{className:"icon-circle"}),c.a.createElement("div",{className:"icon-fix"}))),c.a.createElement("p",{className:"mb-2"},"Xaridingiz uchun raxmat!"),c.a.createElement("span",null,"Tez orada siz bilan bog'lanamiz"))))},O=function(e){var t,a=e.product,r=e.showViewProductButton,l=void 0===r||r,s=Object(n.useState)(!1),i=Object(u.a)(s,2),m=i[0],d=i[1],p=Object(n.useState)(!1),E=Object(u.a)(p,2),f=E[0],b=E[1],g=Object(n.useState)(""),h=Object(u.a)(g,2),v=h[0],O=h[1];return c.a.createElement("div",{className:"h-100 pt-3 pb-3"},f&&c.a.createElement(y,{setSoldModal:b}),m&&c.a.createElement(j,{setModal:d,id:v,product:a,setSoldModal:b}),c.a.createElement("div",{className:"d-flex ".concat(l?"flex-column align-self-end justify-content-end":"align-self-top justify-content-top mediaCard"," h-100")},c.a.createElement(N,{item:a,url:"product"}),c.a.createElement("div",{className:"".concat(l?"mt-auto":"mt-5 ml-4")},c.a.createElement("h4",null," ",a.price," so'm "),c.a.createElement("h5",null,a.name),!l&&c.a.createElement("div",{dangerouslySetInnerHTML:(t=a.description,{__html:t})}),function(e){return e&&c.a.createElement(o.b,{to:"/product/".concat(a._id),className:"mr-2"},c.a.createElement("button",{className:"btn seeBtn mt-2 mb-2 mobileBtn"},"Ko'rish"))}(l),c.a.createElement("button",{className:"btn buyBtn mt-2 mb-2 mobileBtn",onClick:function(e){d(!0),O(e.target.id)},id:a._id},"Xarid qilish"))))},x=function(){var e=Object(n.useState)({categories:[],category:"",search:"",results:[],searched:!1}),t=Object(u.a)(e,2),a=t[0],r=t[1],l=a.categories,o=a.category,s=a.search,p=a.results,E=a.searched;Object(n.useEffect)((function(){g().then((function(e){e.error?console.log(e.error):r(Object(m.a)(Object(m.a)({},e),{},{categories:e}))}))}),[]);var b=function(){s&&function(e){var t=f.a.stringify(e);return console.log("query",t),fetch("".concat(d,"/products/search?").concat(t),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}({search:s||void 0,category:o}).then((function(e){e.error?console.log(e.error):r(Object(m.a)(Object(m.a)({},a),{},{results:e,searched:!0}))}))},h=function(e){e.preventDefault(),b()},N=function(e){return function(t){var n;r(Object(m.a)(Object(m.a)({},a),{},(n={},Object(i.a)(n,e,t.target.value),Object(i.a)(n,"searched",!1),n)))}},v=function(e,t){return e&&t.length>0?"".concat(t.length," natija"):e&&t.length<1?"Mahsulot topilmadi":void 0};return c.a.createElement("div",null,c.a.createElement("div",{className:"container"},c.a.createElement("form",{className:"form",onSubmit:h},c.a.createElement("div",{className:"d-flex ml-2"},c.a.createElement("select",{className:"input select",onChange:N("category")},c.a.createElement("option",{value:"All"},"Barchasi"),l.map((function(e,t){return c.a.createElement("option",{key:t,value:e._id},e.name)}))),c.a.createElement("input",{type:"search",className:"input search",onChange:N("search"),placeholder:"Nimadir qidiryapsizmi?"}),c.a.createElement("button",{className:"input button"},"Qidirish")))),p&&c.a.createElement("div",{className:"bg-white scroll"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return c.a.createElement("div",{className:"position-absolute bg-white left border"},c.a.createElement("div",{className:"mt-4 mb-4 d-flex align-items-center justify-content-between border-bottom"},c.a.createElement("h2",null,v(E,e)),c.a.createElement("button",{className:"close",onClick:function(){return r(Object(m.a)(Object(m.a)({},a),{},{results:null}))}},"x")),c.a.createElement("div",{className:"row w-100 scroll mb-4"},e.map((function(e,t){return c.a.createElement("div",{key:t,className:"caRD"},c.a.createElement(O,{product:e}))}))))}(p)))},w=a(28),k=a.n(w),S=a(29),C=a.n(S),T=a(30),_=a.n(T),M=a(31),q=a.n(M),I=function(e,t){return e.location.pathname===t?{color:"#000",borderBottom:"2px solid #000"}:{color:"#15509E"}},A=Object(s.g)((function(e){var t=e.history;return c.a.createElement("div",{className:"sticky-top bg-white mb-2"},c.a.createElement("ul",{className:"nav nav-tabs mt-auto d-flex align-items-center p-1 pl-3 pr-3"},c.a.createElement("li",{className:"nav-item mr-auto"},c.a.createElement("a",{className:"mr-2",href:"https://t.me/ashyo_uz"},c.a.createElement("span",{className:"mr-1"},"Telegram"),c.a.createElement("img",{src:C.a,alt:"img",width:"25px"})),c.a.createElement("a",{href:"https://www.instagram.com/ashyo.uz/"},c.a.createElement("span",{className:"mr-1"},"Instagram"),c.a.createElement("img",{src:_.a,alt:"img",width:"25px"}))),c.a.createElement("li",{className:"nav-item border p-1 rounded"},c.a.createElement("a",{className:"mr-2",href:"tel:+998970750757"},c.a.createElement("img",{src:q.a,alt:"img",width:"25px"}),c.a.createElement("span",{className:"ml-1"},"+99897 075 07 57")))),c.a.createElement("ul",{className:"nav nav-tabs mt-auto d-flex align-items-center p-3"},c.a.createElement("li",{className:"nav-item mr-auto d-flex align-items-center"},c.a.createElement(o.b,{to:"/"},c.a.createElement("img",{src:k.a,alt:"logo",width:"140"})),c.a.createElement("div",{className:"hiddin-search"},c.a.createElement(x,null))),c.a.createElement("li",{className:"nav-item"},c.a.createElement(o.b,{className:"font-weight-bold link-unstyled",style:I(t,"/shop"),to:"/shop"},"Kategoriyalar")),p()&&1===p().user.role&&c.a.createElement("li",{className:"nav-item"},c.a.createElement(o.b,{className:"font-weight-bold m-2 link-unstyled",style:I(t,"/admin/dashboard"),to:"/admin/dashboard"},"Dashboard")),!p()&&c.a.createElement(n.Fragment,null,c.a.createElement("li",{className:"nav-item"},c.a.createElement(o.b,{className:"font-weight-bold m-2 link-unstyled",style:I(t,"/signin"),to:"/signin"}," ",c.a.createElement("img",{className:"ml-2",src:"https://img.icons8.com/ios-glyphs/30/000000/user--v1.png",alt:"img"})," ")))))})),P=(a(57),function(e){e.title,e.description;var t=e.className,a=e.children;return c.a.createElement("div",null,c.a.createElement(A,null),c.a.createElement("div",{className:t}," ",a," "))}),L=function(){var e=Object(n.useState)({name:"",email:"",password:"",error:"",success:!1,loading:!1}),t=Object(u.a)(e,2),a=t[0],r=t[1],l=a.name,s=a.email,p=a.password,E=a.success,f=a.error,b=a.loading,g=function(e){return function(t){r(Object(m.a)(Object(m.a)({},a),{},Object(i.a)({error:!1},e,t.target.value)))}},h=function(e){var t;e.preventDefault(),r(Object(m.a)(Object(m.a)({},a),{},{error:!1,loading:!0})),(t={name:l,email:s,password:p},fetch("".concat(d,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){e.error?r(Object(m.a)(Object(m.a)({},a),{},{error:e.error,success:!1,loading:!1})):r(Object(m.a)(Object(m.a)({},a),{},{name:"",email:"",password:"",error:"",success:!0,loading:!1}))}))};return c.a.createElement(P,{title:"Signup Page",description:"Signup to MERN E-Commerce App"},c.a.createElement("div",{className:"signup-container"},c.a.createElement("div",{className:"row px-3 vh-100"},c.a.createElement("div",{className:"col-md-5 mx-auto align-self-center"},E&&c.a.createElement("div",{className:"alert alert-success",style:{display:E?"":"none"}},"New account is created! Please ",c.a.createElement(o.b,{to:"/signin"}," Sign In ")),f&&c.a.createElement("div",{className:"alert alert-danger",style:{display:f?"":"none"}},f),c.a.createElement("div",{className:"text-center pb-4"}," ",b&&c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"spinner-grow text-primary",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")),c.a.createElement("div",{className:"spinner-grow text-secondary",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")),c.a.createElement("div",{className:"spinner-grow text-success",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")),c.a.createElement("div",{className:"spinner-grow text-danger",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")),c.a.createElement("div",{className:"spinner-grow text-warning",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")),c.a.createElement("div",{className:"spinner-grow text-info",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")),c.a.createElement("div",{className:"spinner-grow text-dark",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")))," "),c.a.createElement("form",{className:"signup-form",noValidate:!0},c.a.createElement("div",{className:"form-group input-group"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("span",{className:"input-group-text"},c.a.createElement("i",{className:"fa fa-user"}))),c.a.createElement("input",{name:"name",onChange:g("name"),className:"form-control",placeholder:"Username",type:"text",value:l})),c.a.createElement("div",{className:"form-group input-group"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("span",{className:"input-group-text"},c.a.createElement("i",{className:"fa fa-envelope"}))),c.a.createElement("input",{name:"email",onChange:g("email"),className:"form-control",placeholder:"Email address",type:"email",value:s})),c.a.createElement("div",{className:"form-group input-group"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("span",{className:"input-group-text"},c.a.createElement("i",{className:"fa fa-lock"}))),c.a.createElement("input",{name:"password",onChange:g("password"),className:"form-control",placeholder:"Create password",type:"password",value:p})),c.a.createElement("div",{className:"form-group"},c.a.createElement("button",{onClick:h,className:"btn btn-primary btn-block"},"Submit")),c.a.createElement("p",{className:"text-center text-dark"},"Have an account?",c.a.createElement(o.b,{to:"/signin"}," Sign In ")))))))},D=function(){var e=Object(n.useState)({email:"",password:"",error:"",loading:!1,redirectToReferrer:!1}),t=Object(u.a)(e,2),a=t[0],r=t[1],l=a.email,E=a.password,f=a.error,b=a.loading,g=a.redirectToReferrer,h=p().user,N=function(e){return function(t){r(Object(m.a)(Object(m.a)({},a),{},Object(i.a)({error:!1},e,t.target.value)))}},j=function(e){e.preventDefault(),r(Object(m.a)(Object(m.a)({},a),{},{error:!1,loading:!0})),function(e){return fetch("".concat(d,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}({email:l,password:E}).then((function(e){e.error?r(Object(m.a)(Object(m.a)({},a),{},{error:e.error,success:!1,loading:!1})):function(e,t){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){r(Object(m.a)(Object(m.a)({},a),{},{redirectToReferrer:!0}))}))}))};return c.a.createElement(P,{title:"Signin Page",description:"Signin to MERN E-Commerce App"},c.a.createElement("div",{className:"signin-container"},c.a.createElement("div",{className:"row px-3 vh-100"},c.a.createElement("div",{className:"col-md-5 mx-auto align-self-center"},f&&c.a.createElement("div",{className:"alert alert-danger",style:{display:f?"":"none"}},f),c.a.createElement("div",{className:"text-center pb-4"}," ",b&&c.a.createElement(v,null)," "),c.a.createElement("form",{className:"signup-form",noValidate:!0},c.a.createElement("div",{className:"form-group input-group"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("span",{className:"input-group-text"},c.a.createElement("i",{className:"fa fa-envelope"}))),c.a.createElement("input",{name:"email",onChange:N("email"),className:"form-control",placeholder:"Email address",type:"email",value:l})),c.a.createElement("div",{className:"form-group input-group"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("span",{className:"input-group-text"},c.a.createElement("i",{className:"fa fa-lock"}))),c.a.createElement("input",{name:"password",onChange:N("password"),className:"form-control",placeholder:"Create password",type:"password",value:E})),c.a.createElement("div",{className:"form-group"},c.a.createElement("button",{onClick:j,className:"btn btn-primary btn-block"},"Submit")),c.a.createElement("p",{className:"text-center text-dark"},"Need an account?",c.a.createElement(o.b,{to:"/signup"}," Sign Up "))),g?h&&1===h.role?c.a.createElement(s.a,{to:"/admin/dashboard"}):c.a.createElement(s.a,{to:"/user/dashboard"}):p()?c.a.createElement(s.a,{to:"/"}):void 0))))},B=a(58),z=a(59),R=a(60),G=function(){return c.a.createElement("div",{className:"mb-5"},c.a.createElement("div",{id:"carouselExampleIndicators",className:"carousel slide","data-ride":"carousel"},c.a.createElement("ol",{className:"carousel-indicators"},c.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"0",className:"active"}),c.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}),c.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"2"})),c.a.createElement("div",{className:"carousel-inner"},c.a.createElement("div",{className:"carousel-item active"},c.a.createElement("img",{className:"d-block w-100",src:B,alt:"First slide"})),c.a.createElement("div",{className:"carousel-item"},c.a.createElement("img",{className:"d-block w-100",src:z,alt:"Second slide"})),c.a.createElement("div",{className:"carousel-item"},c.a.createElement("img",{className:"d-block w-100",src:R,alt:"Third slide"}))),c.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleIndicators",role:"button","data-slide":"prev"},c.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),c.a.createElement("span",{className:"sr-only"},"Previous")),c.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleIndicators",role:"button","data-slide":"next"},c.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),c.a.createElement("span",{className:"sr-only"},"Next"))))},U=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)([]),o=Object(u.a)(l,2),s=o[0],i=o[1],m=Object(n.useState)(!1),d=Object(u.a)(m,2),p=d[0],E=d[1];return Object(n.useEffect)((function(){b("createdAt").then((function(e){e.error?E(e.error):i(e)})),b("sold").then((function(e){e.error?E(e.error):r(e)}))}),[]),c.a.createElement(P,{title:"Home Page",description:"MERN E-commerce App",className:"container-fluid"},c.a.createElement(G,null),c.a.createElement("h2",{className:"mb-4 text-center"},"Yangi mahsulotlar"),c.a.createElement("div",{className:"row"},s.map((function(e,t){return c.a.createElement("div",{key:t,className:"col-md-3 mb-3 col-6"},c.a.createElement(O,{key:t,product:e}))}))),c.a.createElement("h2",{className:"mb-4 text-center"},"Sotuv xitlari"),c.a.createElement("div",{className:"row"},a.map((function(e,t){return c.a.createElement("div",{key:t,className:"col-md-3 mb-3 col-6"},c.a.createElement(O,{key:t,product:e}))}))),c.a.createElement("div",{className:"alert alert-danger",style:{display:p?"":"none"}},p))},F=(a(61),a(11)),J=function(e){var t=e.component,a=Object(F.a)(e,["component"]);return c.a.createElement(s.b,Object.assign({},a,{render:function(e){return p()?c.a.createElement(t,e):c.a.createElement(s.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},H=function(e){var t=e.component,a=Object(F.a)(e,["component"]);return c.a.createElement(s.b,Object.assign({},a,{render:function(e){return p()&&1===p().user.role?c.a.createElement(t,e):c.a.createElement(s.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},K=function(){var e=p().user,t=e.name,a=e.email;return c.a.createElement(P,{title:"Dashboard",description:"Good day ".concat(t),className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-3"},c.a.createElement("div",{className:"card"},c.a.createElement("h4",{className:"card-header"}," User Links "),c.a.createElement("ul",{className:"list-group"},c.a.createElement("li",{className:"list-group-item"},c.a.createElement(o.b,{className:"nav-link",to:"/cart"}," My Shopping Cart ")),c.a.createElement("li",{className:"list-group-item"},c.a.createElement(o.b,{className:"nav-link",to:"/profile/update"}," Update My Profile "))))),c.a.createElement("div",{className:"col-3"},c.a.createElement("div",{className:"card mb-5"},c.a.createElement("h3",{className:"card-header"}," User Information "),c.a.createElement("ul",{className:"list-group"},c.a.createElement("li",{className:"list-group-item"}," ",t," "),c.a.createElement("li",{className:"list-group-item"}," ",a," "),c.a.createElement("li",{className:"list-group-item"},"Registered User")))),c.a.createElement("div",{className:"col-6"},c.a.createElement("div",{className:"card mb-5"},c.a.createElement("h3",{className:"card-header"}," Purchase History "),c.a.createElement("ul",{className:"list-group"},c.a.createElement("li",{className:"list-group-item"}," History "))))))},V=a(21),W=a.n(V),Q=a(32),X=a(34),Y=function(e,t,a){return fetch("".concat(d,"/product/").concat(a,"/").concat(e),{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},Z=Object(s.g)((function(e){var t=e.history,a=Object(n.useState)([]),r=Object(u.a)(a,2),l=r[0],s=r[1];Object(n.useEffect)((function(){fetch("".concat(d,"/all-products"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(e){s(e)})).catch((function(e){console.log(e)}))}),[]);var i=p(),m=i.user,E=i.token,f=function(){var e=Object(Q.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(m._id,E,t).then((function(e){e&&s(l.filter((function(e){return e._id!==t})))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(P,{title:"Dashboard",className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-6"},c.a.createElement("div",{className:"card"},c.a.createElement("h4",{className:"card-header"}," Admin Links "),c.a.createElement("ul",{className:"list-group"},c.a.createElement("li",{className:"list-group-item"},c.a.createElement(o.b,{className:"nav-link",to:"/create/category"}," Yangi kategoriya yaratish ")),c.a.createElement("li",{className:"list-group-item"},c.a.createElement(o.b,{className:"nav-link",to:"/create/product"}," Mahsulot qo'shish "))))),c.a.createElement("div",{className:"col-6"},p()&&c.a.createElement("li",{className:"list-group-item"},c.a.createElement("button",{className:"btn",onClick:function(){return function(e){if("undefined"!==typeof window)return localStorage.removeItem("jwt"),e(),fetch("".concat(d,"/signout"),{method:"GET"}).then((function(e){console.log("signout",e)})).catch((function(e){return console.log(e)}))}((function(){t.push("/")}))}},c.a.createElement("img",{className:"mr-1",src:"https://img.icons8.com/external-tanah-basah-basic-outline-tanah-basah/24/000000/external-Log-Out-arrows-tanah-basah-basic-outline-tanah-basah-2.png",alt:"img"}),"Chiqish")))),c.a.createElement("div",null,c.a.createElement(X.a,{striped:!0,bordered:!0,hover:!0},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Rasmi"),c.a.createElement("th",null,"Nomi"),c.a.createElement("th",null,"Narxi"),c.a.createElement("th",null,"Ma'lumot"),c.a.createElement("th",null,"Kategoriya"),c.a.createElement("th",null,"Sana"),c.a.createElement("th",null,"O'chirish"))),c.a.createElement("tbody",null,l&&l.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",{className:"p-0"},c.a.createElement("img",{src:"".concat(d,"/product/photo/").concat(e._id),alt:"product",width:"150px"})),c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.price," so'm"),c.a.createElement("td",null,c.a.createElement("div",{dangerouslySetInnerHTML:(a=e.description,{__html:a})})),c.a.createElement("td",null,e.category.name),c.a.createElement("td",null,e.createdAt.split("T")[0]),c.a.createElement("td",null,c.a.createElement("button",{className:"btn",onClick:function(){return f(e._id)}},c.a.createElement("img",{src:"https://img.icons8.com/small/32/000000/trash--v1.png",alt:"img"}))));var a}))))))})),$=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),s=Object(u.a)(l,2),i=s[0],m=s[1],E=Object(n.useState)(!1),f=Object(u.a)(E,2),b=f[0],g=f[1],h=p(),N=h.user,v=h.token,j=function(e){m(""),r(e.target.value)},y=function(e){e.preventDefault(),m(""),g(!1),console.log(N._id,v),function(e,t,a){return fetch("".concat(d,"/category/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(a)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(N._id,v,{name:a}).then((function(e){e.error?m(e.error):(m(""),g(!0))}))};return c.a.createElement(P,{title:"Add a new category",description:"Good Day ".concat(N.name,", ready to add a new category?")},c.a.createElement("div",{className:"container"},function(){if(b)return c.a.createElement("h3",{className:"text-success"},a," qo'shildi")}(),function(){if(i)return c.a.createElement("h3",{className:"text-danger"},"Kategoriya mavjud")}(),c.a.createElement("form",{onSubmit:y},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"text-muted"}," Nomi "),c.a.createElement("input",{type:"text",className:"form-control",onChange:j,value:a,autoFocus:!0,required:!0})),c.a.createElement("button",{className:"btn btn-primary btn-block"}," Kategoriya qo'shish ")),c.a.createElement("div",{className:"mt-5"},c.a.createElement(o.b,{to:"/admin/dashboard",className:"btn btn-danger btn-block"},"Dashboardga qaytish"))))},ee=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(),s=Object(u.a)(l,2),E=s[0],f=s[1];Object(n.useEffect)((function(){if(a){var e=URL.createObjectURL(a);return f(e),function(){return URL.revokeObjectURL(e)}}f(void 0)}),[a]);var b=Object(n.useState)({name:"",description:"",price:"",categories:[],category:"",photo:"",loading:!1,error:"",createdProduct:"",redirectToProfile:!1,formData:""}),g=Object(u.a)(b,2),h=g[0],N=g[1],j=p(),y=j.user,O=j.token,x=h.name,w=h.description,k=h.price,S=h.categories,C=h.loading,T=h.error,_=h.createdProduct,M=h.formData;function q(){fetch("".concat(d,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(e){e.error?N(Object(m.a)(Object(m.a)({},h),{},{error:e.error})):N(Object(m.a)(Object(m.a)({},h),{},{categories:e,formData:new FormData}))}))}Object(n.useEffect)((function(){q()}),[]);var I=function(e){return function(t){if("photo"===e){if(!t.target.files||0===t.target.files.length)return void r(void 0);r(t.target.files[0])}var a="photo"===e?t.target.files[0]:t.target.value;M.set(e,a),N(Object(m.a)(Object(m.a)({},h),{},Object(i.a)({},e,a)))}},A=function(e){e.preventDefault(),N(Object(m.a)(Object(m.a)({},h),{},{error:"",loading:!0})),function(e,t,a){return fetch("".concat(d,"/product/create/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(y._id,O,M).then((function(e){e.error?N(Object(m.a)(Object(m.a)({},h),{},{error:e.error})):N(Object(m.a)(Object(m.a)({},h),{},{name:"",description:"",photo:"",price:"",quantity:"",loading:!1,createdProduct:e.name}))}))};return c.a.createElement(P,{title:"Add a new product",description:"Good Day ".concat(y.name,", ready to add a new product?")},c.a.createElement("div",{className:"container"},C&&c.a.createElement(v,null),c.a.createElement("div",{className:"loading text-white flex-column",style:{display:_?"":"none"}},c.a.createElement("h2",null,"".concat(_)," qo'shildi"),c.a.createElement(o.b,{className:"btn bg-white mt-2",to:"/admin/dashboard"},"O'rtga qaytish")),c.a.createElement("div",{className:"alert alert-danger",style:{display:T?"":"none"}},T),c.a.createElement("form",{className:"mb-3",onSubmit:A},c.a.createElement("h5",null,"Rasm qo'shish"),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"btn border rounded btn-block"},c.a.createElement("input",{onChange:I("photo"),type:"file",name:"photo",accept:"image/*"}),a&&c.a.createElement("img",{src:E,alt:"product",width:"250px"}))),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"text-muted"},"Nomi"),c.a.createElement("input",{onChange:I("name"),type:"text",className:"form-control",value:x,placeholder:"Mahsulot nomi"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"text-muted"},"Ma'lumot"),c.a.createElement("textarea",{onChange:I("description"),className:"form-control",value:w,placeholder:"Mahsulot haqida ma`lumot"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"text-muted"},"Narxi"),c.a.createElement("input",{onChange:I("price"),type:"number",className:"form-control",value:k,placeholder:"Mahsulot narxi"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"text-muted"},"Kategoriya"),c.a.createElement("select",{onChange:I("category"),className:"form-control"},c.a.createElement("option",{disabled:!0,selected:!0},"Tanlang"),S&&S.map((function(e,t){return c.a.createElement("option",{key:t,value:e._id},e.name)})))),c.a.createElement("button",{className:"btn btn-primary btn-block"},"Qo'shish"))))},te=a(15),ae=(a(64),function(e){var t=e.categories,a=e.handleFilters,r=Object(n.useState)([]),l=Object(u.a)(r,2),o=l[0],s=l[1],i=function(e){return function(){var t=o.indexOf(e),n=Object(te.a)(o);-1===t?n.push(e):n.splice(t,1),s(n),a(n)}};return t.map((function(e,t){return c.a.createElement("li",{key:t,className:"list-unstyled"},c.a.createElement("input",{onChange:i(e._id),value:o.indexOf(-1===e._id),type:"checkbox",id:e.name,name:e.name,className:"form-check-input chek-input"}),c.a.createElement("label",{className:"form-check-label chek",htmlFor:e.name},e.name))}))}),ne=[{_id:0,name:"Any",array:[]},{_id:1,name:"0 to 9",array:[0,9]},{_id:2,name:"10 to 19",array:[10,19]},{_id:3,name:"20 to 29",array:[20,29]},{_id:4,name:"30 to 39",array:[30,39]},{_id:5,name:"More than 40",array:[40,99]}],ce=function(){var e=Object(n.useState)({filters:{category:[],price:[]}}),t=Object(u.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)([]),o=Object(u.a)(l,2),s=o[0],i=o[1],d=Object(n.useState)(!1),p=Object(u.a)(d,2),E=p[0],f=p[1],b=Object(n.useState)(12),N=Object(u.a)(b,2),v=N[0],j=(N[1],Object(n.useState)(0)),y=Object(u.a)(j,2),x=y[0],w=y[1],k=Object(n.useState)(0),S=Object(u.a)(k,2),C=S[0],T=S[1],_=Object(n.useState)([]),M=Object(u.a)(_,2),q=M[0],I=M[1],A=function(e){h(x,v,e).then((function(e){e.error?f(e.error):(I(e.data),T(e.size),w(0))}))},L=function(){var e=x+v;h(e,v,a.filters).then((function(t){t.error?f(t.error):(I([].concat(Object(te.a)(q),Object(te.a)(t.data))),T(t.size),w(e))}))};Object(n.useEffect)((function(){g().then((function(e){e.error?f(e.error):i(e)}))}),[]),Object(n.useEffect)((function(){A(x,a.filters)}),[]);var D=function(e){var t=ne,a=[];for(var n in t)t[n]._id===parseInt(e)&&(a=t[n].array);return a};return c.a.createElement(P,{title:"Shop Page",description:"Search and Find your product",className:"container-fluid mt-5"},c.a.createElement("div",null,c.a.createElement("h2",{className:"text-center"},"Mahsulotlar"),c.a.createElement("div",{className:"d-flex mb-3"},c.a.createElement(ae,{categories:s,handleFilters:function(e){return function(e,t){var n=Object(m.a)({},a);if(n.filters[t]=e,"price"===t){var c=D(e);n.filters[t]=c}A(a.filters),r(n)}(e,"category")}})),c.a.createElement("div",{className:"row"},q.map((function(e,t){return c.a.createElement("div",{key:t,className:"col-md-3 mb-2 col-6"},c.a.createElement(O,{key:t,product:e}))}))),c.a.createElement("hr",null),C>0&&C>=v&&c.a.createElement("button",{onClick:L,className:"btn btn-outline-secondary btn-block ml-auto mr-auto mb-5"},"Ko'proq ko'rish")),c.a.createElement("div",{className:"alert alert-danger",style:{display:E?"":"none"}},E))},re=function(e){var t=Object(n.useState)({}),a=Object(u.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(!1),s=Object(u.a)(o,2),i=s[0],m=s[1],p=function(e){(function(e){return fetch("".concat(d,"/product/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e).then((function(e){e.error?m(e.error):l(e)}))};return Object(n.useEffect)((function(){var t=e.match.params.productId;p(t)}),[e]),c.a.createElement("div",null,c.a.createElement(P,{title:r&&r.name,description:r&&r.description&&r.description.substring(0,100),className:"container-fluid"},c.a.createElement("div",{className:""},c.a.createElement("div",{className:"d-flex align-items-center justify-content-start"},r&&r.description&&c.a.createElement(O,{product:r,showViewProductButton:!1}))),c.a.createElement("div",{className:"alert alert-danger",style:{display:i?"":"none"}},i)))},le=function(){return c.a.createElement(o.a,null,c.a.createElement(s.d,null,c.a.createElement(s.b,{path:"/",exact:!0,component:U}),c.a.createElement(s.b,{path:"/shop",exact:!0,component:ce}),c.a.createElement(s.b,{path:"/signin",exact:!0,component:D}),c.a.createElement(s.b,{path:"/signup",exact:!0,component:L}),c.a.createElement(J,{path:"/user/dashboard",exact:!0,component:K}),c.a.createElement(H,{path:"/admin/dashboard",exact:!0,component:Z}),c.a.createElement(H,{path:"/create/category",exact:!0,component:$}),c.a.createElement(H,{path:"/create/product",exact:!0,component:ee}),c.a.createElement(s.b,{path:"/product/:productId",exact:!0,component:re})))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(le,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.99646f13.chunk.js.map