{"version":3,"sources":["core/logo.svg","core/telegram.gif","core/instagram.gif","core/phone.gif","core/img1.jpg","core/img2.jpg","core/img3.jpg","config.js","auth/index.js","core/apiCore.js","core/ShowImage.js","core/loading.js","core/buyModal.js","core/soldModal.js","core/Card.js","core/Search.js","core/Menu.js","core/Layout.js","user/Signup.js","user/Signin.js","core/Carousel.js","core/Home.js","auth/PrivateRoute.js","auth/AdminRoute.js","user/UserDashboard.js","admin/apiAdmin.js","user/AdminDashboard.js","admin/AddCategory.js","admin/AddProduct.js","core/Checkbox.js","core/fixedPrices.js","core/Shop.js","core/Product.js","Routes.js","index.js"],"names":["module","exports","API","isAuthenticated","window","localStorage","getItem","JSON","parse","getProducts","sortBy","fetch","method","then","response","json","catch","err","console","log","getCategories","getFilteredProducts","skip","limit","filters","data","headers","Accept","body","stringify","ShowImage","item","url","className","src","_id","alt","name","style","maxHeight","maxWidth","width","Loading","BuyModal","setModal","id","product","setSoldModal","useState","emaunt","price","tel","loading","error","values","setValues","handleChange","e","value","target","slice","onClick","onSubmit","event","preventDefault","number","split","length","order","message","type","placeholder","onChange","required","maxLength","minLength","SoldModal","Card","string","showViewProductButton","modal","soldModal","buyProduct","setBuyProduct","dangerouslySetInnerHTML","description","__html","to","showViewButton","Search","categories","category","search","results","searched","setData","useEffect","searchData","params","query","queryString","list","undefined","searchSubmit","searchMessage","map","c","i","key","searchedProducts","isActive","history","path","location","pathname","color","borderBottom","withRouter","href","Telegram","Instagram","Phone","logo","user","role","Layout","title","children","Signup","email","password","success","clickSubmit","display","noValidate","Signin","redirectToReferrer","signin","next","setItem","authenticate","img1","require","img2","img3","Carousel","data-ride","data-target","data-slide-to","data-slide","aria-hidden","Home","productsBySell","setProductsBySell","productsByArrival","setProductsByArrival","setError","PrivateRoute","Component","component","rest","render","props","state","from","AdminRoute","Dashboard","deleteProduct","userId","token","productId","Authorization","res","products","setProducts","handleDelete","a","filter","removeItem","signout","push","Table","striped","bordered","hover","createdAt","AddCategory","setName","setSuccess","createCategory","showSuccess","showError","autoFocus","AddProduct","selectedFile","setSelectedFile","preview","setPreview","objectUrl","URL","createObjectURL","revokeObjectURL","photo","createdProduct","redirectToProfile","formData","init","FormData","files","set","createProduct","quantity","accept","disabled","selected","Checkbox","handleFilters","checked","setCheked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","splice","htmlFor","prices","array","Shop","myFilters","setMyFilters","setCategories","setSkip","size","setSize","filteredResults","setFilteredResults","loadFilteredResults","newFilters","loadMore","toSkip","handlePrice","parseInt","filterBy","priceValues","Product","setProduct","loadSingleProduct","read","match","substring","Routes","exact","AdminDashboard","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.99646f13.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.1e4b44f8.svg\";","module.exports = __webpack_public_path__ + \"static/media/telegram.85b09beb.gif\";","module.exports = __webpack_public_path__ + \"static/media/instagram.3e473d11.gif\";","module.exports = __webpack_public_path__ + \"static/media/phone.56c51270.gif\";","module.exports = __webpack_public_path__ + \"static/media/img1.08f9ad4c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/img2.5a458116.jpg\";","module.exports = __webpack_public_path__ + \"static/media/img3.5f8c34c7.jpg\";","export const API = `http://localhost:3001/api`;\r\n// process.env.REACT_APP_API_URL ||","import { API } from '../config';\r\n\r\nexport const signup = (user) => {\r\n    return fetch(`${API}/signup`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(user)\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const signin = (user) => {\r\n    return fetch(`${API}/signin`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(user)\r\n    }).then(response => {\r\n        return response.json();\r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const authenticate = (data, next) => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.setItem('jwt', JSON.stringify(data));\r\n        next();\r\n    }\r\n};\r\n\r\nexport const signout = (next) => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('jwt');\r\n        next();\r\n        return fetch(`${API}/signout`, {\r\n            method: 'GET'\r\n        })\r\n        .then(response => {\r\n            console.log('signout', response);\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n    if (typeof window == 'undefined') {\r\n        return false;\r\n    }\r\n    if (localStorage.getItem('jwt')) {\r\n        return JSON.parse(localStorage.getItem('jwt'));\r\n    } else {\r\n        return false;\r\n    }\r\n};\r\n","import { API } from \"../config\";\r\nimport queryString from \"query-string\";\r\n\r\nexport const getProducts = sortBy => {\r\n    return fetch(`${API}/products?sortBy=${sortBy}&order=desc&limit=9`, {\r\n        method: \"GET\"\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const getAllProducts = () => {\r\n    return fetch(`${API}/all-products`, {\r\n        method: \"GET\"\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const getProductById = id => {\r\n    return fetch(`${API}/product/${id}`, {\r\n        method: \"GET\"\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const getCategories = () => {\r\n    return fetch(`${API}/categories`, {\r\n        method: 'GET'\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\r\n    const data = {\r\n        limit, skip, filters\r\n    };\r\n    return fetch(`${API}/products/by/search`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(data)\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const list = params => {\r\n    const query = queryString.stringify(params);\r\n    console.log(\"query\", query);\r\n    return fetch(`${API}/products/search?${query}`, {\r\n        method: \"GET\"\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const read = productId => {\r\n    return fetch(`${API}/product/${productId}`, {\r\n        method: \"GET\"\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const order = (id, emaunt, price, name, tel) => {\r\n    const data = {\r\n        emaunt, price, name, tel\r\n    }\r\n    return fetch(`${API}/order/${id}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(data)\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(err => {\r\n        console.log(err);\r\n    });\r\n}","import React from \"react\";\r\nimport { API } from \"../config\";\r\n\r\nconst ShowImage = ({ item, url }) => (\r\n    <div className=\"product-img\">\r\n        <img\r\n            src={`${API}/${url}/photo/${item._id}`}\r\n            alt={item.name}\r\n            className=\"mb-3\"\r\n            style={{ maxHeight: \"100%\", maxWidth: \"500px\", width: \"100%\" }}\r\n        />\r\n    </div>\r\n);\r\n\r\nexport default ShowImage;","import React from \"react\";\r\n\r\nfunction Loading () {\r\n    return (\r\n        <div className=\"loading\">\r\n            <div className=\"lds-spinner\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading","import React, {useState} from \"react\";\r\nimport {order} from \"./apiCore\"\r\nimport {API} from \"../config\"\r\nimport Loading from \"./loading\";\r\n\r\n\r\nfunction BuyModal({setModal, id, product, setSoldModal}) {\r\n    const [values, setValues] = useState({\r\n        emaunt: 1, price: product.price, name: '', tel: \"\", loading: false, error: ''\r\n    });\r\n    const handleClose = () => {\r\n        setModal(false)\r\n    }\r\n    const {\r\n        emaunt, price, name, tel, loading, error\r\n    } = values;\r\n\r\n    const handleChange = name => e => {\r\n        const value = name === \"tel\" ? e.target.value.slice(0, 12) : e.target.value;\r\n        setValues({ ...values, [name]: value });\r\n    };\r\n    const handleSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: '', loading: true });\r\n        const number = tel.split('').length\r\n        if(number < 12 || number > 12) {\r\n            return setValues({...values, error: 'Telefon raqamni tekshirib qaytadan kiriting!'})\r\n        }\r\n\r\n        order(id, emaunt, price, name, tel).then(data => {\r\n            if (data.message === 'ok') {\r\n                setValues({\r\n                    ...values, name: '', tel: 0, loading: false, error: '' \r\n                });\r\n                setModal(false)\r\n                setSoldModal(true)\r\n            } else {\r\n                setValues({ ...values, error: data.error });\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleMinus = () => {\r\n        setValues({...values, 'emaunt': emaunt !== 1 ? emaunt - 1 : 1, 'price': price !== product.price ? price - product.price : product.price})\r\n    }\r\n\r\n    const handleAdd = () => {\r\n        setValues({...values, 'emaunt': emaunt + 1, 'price': price + product.price})\r\n    }\r\n    return (\r\n        <div className=\"modalWrapper\">\r\n            {loading && <Loading />}\r\n            <div className=\"p-3 bg-white modalBody\">\r\n                <header className=\"d-flex align-items-center justify-content-between\">\r\n                    <h5 className=\"m-0 mb-2\">Ma'lumotlarni kiriting</h5>\r\n                    <button className=\"btn close p-1\" onClick={handleClose}>x</button>\r\n                </header>\r\n                <div>\r\n                    <div className=\"mb-2 d-flex align-items-center\">\r\n                        <img className=\"border mr-3\" width={'150px'} src={`${API}/product/photo/${product._id}`} alt=\"img\" />\r\n                        <div className=\"mt-3\">\r\n                            <p>{product.name}</p>\r\n                            <p>{price} so'm</p>\r\n                            <div className=\"d-flex align-items-center\">\r\n                                <button onClick={handleMinus} className=\"btn border rounded\">-</button>\r\n                                <p className=\"pt-3 pl-3 pr-3\">{emaunt}</p>\r\n                                <button onClick={handleAdd} className=\"btn border rounded\">+</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <form onSubmit={handleSubmit}>\r\n                        <div className=\"form-group\">\r\n                            <label>Ismingizni kiriting</label>\r\n                            <input className=\"form-control\" name=\"name\" type=\"text\" placeholder=\"Ism\" onChange={handleChange('name')} required />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Telefon raqamingizni kiriting</label>\r\n                            <input className=\"form-control\" value={tel} name=\"tel\" type=\"number\" placeholder=\"998901234567\" onChange={handleChange('tel')} maxLength={13} minLength={12} required />\r\n                        </div>\r\n                        <button className=\"btn btn-warning btn-block\" type=\"submit\">Buyurtma qilish</button>\r\n                    </form>\r\n                    {error && <p className=\"mt-2 text-danger\">{error}</p>}\r\n                </div>\r\n            </div>\r\n        </div>  \r\n    )\r\n};\r\n\r\nexport default BuyModal;","import React from \"react\";\r\n\r\nfunction SoldModal({setSoldModal}) {\r\n\r\n    const handleClose = () => {\r\n        setSoldModal(false)\r\n    }\r\n    return (\r\n        <div className=\"modalWrapper\">\r\n            <div className=\"p-3 bg-white modalBody\">\r\n                <header className=\"d-flex align-items-center justify-content-between mb-5\">\r\n                    <h5 className=\"m-0\">Buyurtmangiz qabul qilindi!</h5>\r\n                    <button className=\"btn close p-1\" onClick={handleClose}>x</button>\r\n                </header>\r\n                <div className=\"text-center\">\r\n                    <div className=\"success-checkmark\">\r\n                    <div className=\"check-icon\">\r\n                        <span className=\"icon-line line-tip\"></span>\r\n                        <span className=\"icon-line line-long\"></span>\r\n                        <div className=\"icon-circle\"></div>\r\n                        <div className=\"icon-fix\"></div>\r\n                    </div>\r\n                    </div>\r\n                    <p className=\"mb-2\">Xaridingiz uchun raxmat!</p>\r\n                    <span>Tez orada siz bilan bog'lanamiz</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SoldModal;","import React, {useState} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport ShowImage from './ShowImage';\r\nimport BuyModal from './buyModal';\r\nimport SoldModal from './soldModal';\r\n\r\n\r\nconst Card = ({product, showViewProductButton=true}) => {\r\n    const [modal, setModal] = useState(false)\r\n    const [soldModal, setSoldModal] = useState(false)\r\n    const [buyProduct, setBuyProduct] = useState('')\r\n\r\n    const handleBuy = (e) => { \r\n        setModal(true)\r\n        setBuyProduct(e.target.id)\r\n    }\r\n    \r\n    const showViewButton = (showViewProductButton) => {\r\n        return (\r\n            showViewProductButton && (\r\n                <Link to={`/product/${product._id}`} className=\"mr-2\">\r\n                    <button className=\"btn seeBtn mt-2 mb-2 mobileBtn\">\r\n                        Ko'rish\r\n                    </button>\r\n                </Link>\r\n            )\r\n        )\r\n    }\r\n    function createMarkup(string) {\r\n        return {__html: string};\r\n    }\r\n    return (\r\n        <div className='h-100 pt-3 pb-3'>\r\n            {soldModal && <SoldModal setSoldModal={setSoldModal} />}\r\n            {modal && <BuyModal setModal={setModal} id={buyProduct} product={product} setSoldModal={setSoldModal} />}\r\n            <div className={`d-flex ${showViewProductButton ? 'flex-column align-self-end justify-content-end' : 'align-self-top justify-content-top mediaCard'} h-100`}> \r\n                <ShowImage item={product} url=\"product\" />\r\n                <div className={`${showViewProductButton ? 'mt-auto' : 'mt-5 ml-4'}`}>\r\n                <h4> {product.price} so'm </h4>\r\n                <h5>{product.name}</h5>\r\n                {!showViewProductButton && \r\n                    <div dangerouslySetInnerHTML={createMarkup(product.description)} />\r\n                }\r\n                    {showViewButton(showViewProductButton)} \r\n                    \r\n                    <button className=\"btn buyBtn mt-2 mb-2 mobileBtn\" onClick={handleBuy} id={product._id}>\r\n                        Xarid qilish\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Card;\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getCategories, list } from \"./apiCore\";\r\nimport Card from \"./Card\";\r\n\r\nconst Search = () => {\r\n    const [data, setData] = useState({\r\n        categories: [],\r\n        category: \"\",\r\n        search: \"\",\r\n        results: [],\r\n        searched: false\r\n    });\r\n\r\n    const { categories, category, search, results, searched } = data;\r\n\r\n    const loadCategories = () => {\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                setData({ ...data, categories: data });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadCategories();\r\n    }, []);\r\n\r\n    const searchData = () => {\r\n        if (search) {\r\n            list({ search: search || undefined, category: category }).then(\r\n                response => {\r\n                    if (response.error) {\r\n                        console.log(response.error);\r\n                    } else {\r\n                        setData({ ...data, results: response, searched: true });\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    };\r\n\r\n    const searchSubmit = e => {\r\n        e.preventDefault();\r\n        searchData();\r\n    };\r\n\r\n    const handleChange = name => event => {\r\n        setData({ ...data, [name]: event.target.value, searched: false });\r\n    };\r\n\r\n    const searchMessage = (searched, results) => {\r\n        if (searched && results.length > 0) {\r\n            return `${results.length} natija`;\r\n        }\r\n        if (searched && results.length < 1) {\r\n            return `Mahsulot topilmadi`;\r\n        }\r\n    };\r\n\r\n    const searchedProducts = (results = []) => {\r\n        return (\r\n            <div className=\"position-absolute bg-white left border\">\r\n                <div className=\"mt-4 mb-4 d-flex align-items-center justify-content-between border-bottom\">\r\n                    <h2>\r\n                        {searchMessage(searched, results)}\r\n                    </h2>\r\n                    <button className=\"close\" onClick={() => setData({...data, 'results': null})}>x</button>\r\n                </div>\r\n\r\n                <div className=\"row w-100 scroll mb-4\">\r\n                    {results.map((product, i) => (\r\n                        <div key={i} className=\"caRD\" >\r\n                            <Card product={product}  />\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const searchForm = () => (\r\n        <form className=\"form\" onSubmit={searchSubmit}>\r\n                <div className=\"d-flex ml-2\">\r\n                        <select\r\n                            className=\"input select\"\r\n                            onChange={handleChange(\"category\")}\r\n                        >\r\n                            <option value=\"All\">Barchasi</option>\r\n                            {categories.map((c, i) => (\r\n                                <option key={i} value={c._id}>\r\n                                    {c.name}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                    <input\r\n                        type=\"search\"\r\n                        className=\"input search\"\r\n                        onChange={handleChange(\"search\")}\r\n                        placeholder=\"Nimadir qidiryapsizmi?\"\r\n                    />\r\n                    <button className=\"input button\">Qidirish</button>\r\n                </div>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"container\"> \r\n                {searchForm()}\r\n            </div>\r\n            {results &&\r\n                <div className=\"bg-white scroll\">\r\n                    {searchedProducts(results)}\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Search;\r\n\r\n","import React, {Fragment} from 'react';\r\nimport {Link, withRouter} from 'react-router-dom';\r\nimport {isAuthenticated} from '../auth';\r\nimport Search from './Search';\r\nimport logo from '../core/logo.svg'\r\nimport Telegram from '../core/telegram.gif'\r\nimport Instagram from '../core/instagram.gif'\r\nimport Phone from '../core/phone.gif'\r\n\r\nconst isActive = (history, path) => {\r\n    if (history.location.pathname === path) {\r\n        return {color: '#000', borderBottom: '2px solid #000'};\r\n    } else {\r\n        return {color: '#15509E'};\r\n    }\r\n};\r\n\r\nconst Menu = ({ history }) => (\r\n    <div className='sticky-top bg-white mb-2'> \r\n        <ul className=\"nav nav-tabs mt-auto d-flex align-items-center p-1 pl-3 pr-3\">\r\n                <li className=\"nav-item mr-auto\">\r\n                    <a className='mr-2' href='https://t.me/ashyo_uz'>\r\n                        <span className='mr-1'>Telegram</span>\r\n                        <img src={Telegram} alt='img' width={'25px'} />\r\n                    </a>\r\n                    <a href='https://www.instagram.com/ashyo.uz/'>\r\n                        <span className='mr-1'>Instagram</span>\r\n                        <img src={Instagram} alt='img' width={'25px'} />\r\n                    </a>\r\n                </li>\r\n                <li className='nav-item border p-1 rounded'>\r\n                    <a className='mr-2' href='tel:+998970750757'>\r\n                        <img src={Phone} alt='img' width={'25px'} />\r\n                        <span className='ml-1'>+99897 075 07 57</span>\r\n                    </a>\r\n                </li>\r\n        </ul>\r\n        <ul className=\"nav nav-tabs mt-auto d-flex align-items-center p-3\">\r\n            <li className=\"nav-item mr-auto d-flex align-items-center\">\r\n                <Link to=\"/\"><img src={logo} alt='logo' width={'140'} /></Link>\r\n                <div className=\"hiddin-search\">\r\n                    <Search />\r\n                </div>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n                <Link className=\"font-weight-bold link-unstyled\" style={isActive(history, '/shop')} to=\"/shop\">Kategoriyalar</Link>\r\n            </li>\r\n\r\n            {/* {isAuthenticated() && isAuthenticated().user.role === 0 && (\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"nav-link font-weight-bold\" style={isActive(history, '/user/dashboard')} to=\"/user/dashboard\">Dashboard</Link>\r\n                </li>\r\n            )} */}\r\n\r\n            {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n                <li className=\"nav-item\">\r\n                    <Link className=\"font-weight-bold m-2 link-unstyled\" style={isActive(history, '/admin/dashboard')} to=\"/admin/dashboard\">Dashboard</Link>\r\n                </li>\r\n            )}\r\n\r\n            {!isAuthenticated() && (\r\n                <Fragment>\r\n                    <li className=\"nav-item\">\r\n                        <Link className=\"font-weight-bold m-2 link-unstyled\" style={isActive(history, '/signin')} to=\"/signin\"> <img className='ml-2' src=\"https://img.icons8.com/ios-glyphs/30/000000/user--v1.png\" alt='img'/> </Link>\r\n                    </li>\r\n\r\n                    {/* <li className=\"nav-item\">\r\n                        <Link className=\"nav-link font-weight-bold\" style={isActive(history, '/signup')} to=\"/signup\"> SIGNUP </Link>\r\n                    </li> */}\r\n                </Fragment>\r\n            )}\r\n\r\n        </ul>\r\n    </div>\r\n);\r\n\r\nexport default withRouter(Menu);","import React from 'react';\r\nimport Menu from './Menu';\r\nimport '../styles.css';\r\n// import Carousel from './Carousel';\r\n\r\nconst Layout = ({title='Title', description='Description', className, children}) => (\r\n    <div>\r\n        <Menu />\r\n        {/* <div className=\"jumbotron mb-0\"> \r\n            <h2> {title} </h2>\r\n            <p className=\"lead\"> {description} </p>\r\n        </div>\r\n        <Carousel /> */}\r\n        <div className={className}> {children} </div>\r\n    </div>\r\n);\r\n\r\nexport default Layout;","import React, { useState, Fragment } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { Link } from 'react-router-dom';\r\nimport { signup } from '../auth';\r\n\r\nconst Signup = () =>  {\r\n    const [values, setValues] = useState({\r\n        name: '', email: '', password: '', error: '', success: false, loading: false\r\n    });\r\n\r\n    const { name, email, password, success, error, loading } = values;\r\n\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({...values, error: false, loading: true});\r\n        signup({ name, email, password }).then(data => {\r\n            // console.log({data});\r\n            if (data.error) {\r\n                // console.log('in error');\r\n                setValues({ ...values, error: data.error, success: false, loading: false });\r\n            } else {\r\n                // console.log('in success');\r\n                setValues({\r\n                    ...values, name: '', email: '', password: '', error: '', success: true, loading: false\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const signUpForm = () => (\r\n        <form className='signup-form' noValidate>\r\n            {/* username field */}\r\n            <div className='form-group input-group'>\r\n                <div className='input-group-prepend'>\r\n                    <span className='input-group-text'>\r\n                        <i className='fa fa-user'></i>\r\n                    </span>\r\n                </div>\r\n                <input name='name' onChange={handleChange('name')} className='form-control' placeholder='Username' type='text' value={name} />\r\n            </div>\r\n            {/* email field */}\r\n            <div className='form-group input-group'>\r\n                <div className='input-group-prepend'>\r\n                    <span className='input-group-text'>\r\n                        <i className='fa fa-envelope'></i>\r\n                    </span>\r\n                </div>\r\n                <input name='email' onChange={handleChange('email')} className='form-control' placeholder='Email address' type='email' value={email} />\r\n            </div>\r\n            {/* password field */}\r\n            <div className='form-group input-group'>\r\n                <div className='input-group-prepend'>\r\n                    <span className='input-group-text'>\r\n                        <i className='fa fa-lock'></i>\r\n                    </span>\r\n                </div>\r\n                <input name='password' onChange={handleChange('password')} className='form-control' placeholder='Create password' type='password' value={password} />\r\n            </div>\r\n            \r\n            <div className='form-group'>\r\n                <button onClick={clickSubmit} className=\"btn btn-primary btn-block\">\r\n                    Submit\r\n                </button>\r\n            </div>\r\n            {/* Already have an account? */}\r\n            <p className='text-center text-dark'>\r\n                Have an account?\r\n                <Link to='/signin'> Sign In </Link>\r\n            </p>\r\n        </form>\r\n    );\r\n    \r\n    const showLoading = () => (\r\n        <Fragment>\r\n            <div className=\"spinner-grow text-primary\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n            <div className=\"spinner-grow text-secondary\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n            <div className=\"spinner-grow text-success\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n            <div className=\"spinner-grow text-danger\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n            <div className=\"spinner-grow text-warning\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n            <div className=\"spinner-grow text-info\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n            <div className=\"spinner-grow text-dark\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n        </Fragment>\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className=\"alert alert-success\" style={{ display: success ? '' : 'none' }}>\r\n            New account is created! Please <Link to=\"/signin\"> Sign In </Link>\r\n        </div>\r\n    );\r\n    \r\n    return (\r\n        <Layout title=\"Signup Page\" description=\"Signup to MERN E-Commerce App\">\r\n            <div className='signup-container'>\r\n                <div className='row px-3 vh-100'>\r\n                    <div className='col-md-5 mx-auto align-self-center'> \r\n                        { success && showSuccess() }\r\n                        { error && showError() }\r\n                        <div className='text-center pb-4'> { loading && showLoading() } </div>\r\n                        { signUpForm() }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Signup;","import React, { useState } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { signin, authenticate, isAuthenticated } from '../auth';\r\nimport Loading from '../core/loading';\r\n\r\nconst Signin = () =>  {\r\n    const [values, setValues] = useState({\r\n        email: '', password: '', error: '', loading: false, redirectToReferrer: false\r\n    });\r\n\r\n    const { email, password, error, loading, redirectToReferrer } = values;\r\n    const {user} = isAuthenticated();\r\n\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({...values, error: false, loading: true});\r\n        signin({ email, password }).then(data => {\r\n            // console.log({data});\r\n            if (data.error) {\r\n                // console.log('in error');\r\n                setValues({ ...values, error: data.error, success: false, loading: false });\r\n            } else {\r\n                // console.log('in success');\r\n                authenticate(data, () => {\r\n                    setValues({\r\n                        ...values, redirectToReferrer: true\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const signInForm = () => (\r\n        <form className='signup-form' noValidate>\r\n            {/* email field */}\r\n            <div className='form-group input-group'>\r\n                <div className='input-group-prepend'>\r\n                    <span className='input-group-text'>\r\n                        <i className='fa fa-envelope'></i>\r\n                    </span>\r\n                </div>\r\n                <input name='email' onChange={handleChange('email')} className='form-control' placeholder='Email address' type='email' value={email} />\r\n            </div>\r\n            {/* password field */}\r\n            <div className='form-group input-group'>\r\n                <div className='input-group-prepend'>\r\n                    <span className='input-group-text'>\r\n                        <i className='fa fa-lock'></i>\r\n                    </span>\r\n                </div>\r\n                <input name='password' onChange={handleChange('password')} className='form-control' placeholder='Create password' type='password' value={password} />\r\n            </div>\r\n            \r\n            <div className='form-group'>\r\n                <button onClick={clickSubmit} className=\"btn btn-primary btn-block\">\r\n                    Submit\r\n                </button>\r\n            </div>\r\n            {/* Need an account? */}\r\n            <p className='text-center text-dark'>\r\n                Need an account?\r\n                <Link to='/signup'> Sign Up </Link>\r\n            </p>\r\n        </form>\r\n    );\r\n    \r\n    const showLoading = () => (\r\n        <Loading />\r\n    );\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const redirectUser = () => {\r\n        if (redirectToReferrer) {\r\n            if (user && user.role === 1) {\r\n                return <Redirect to='/admin/dashboard' />\r\n            } else {\r\n                return <Redirect to='/user/dashboard' />\r\n            }\r\n        }\r\n        if (isAuthenticated()) {\r\n            return <Redirect to='/' />\r\n        }\r\n    };\r\n    \r\n    return (\r\n        <Layout title=\"Signin Page\" description=\"Signin to MERN E-Commerce App\">\r\n            <div className='signin-container'>\r\n                <div className='row px-3 vh-100'>\r\n                    <div className='col-md-5 mx-auto align-self-center'> \r\n                        { error && showError() }\r\n                        <div className='text-center pb-4'> { loading && showLoading() } </div>\r\n                        { signInForm() }\r\n                        { redirectUser() }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Signin;","import React from 'react';\r\n\r\nconst img1 = require('./img1.jpg');\r\nconst img2 = require('./img2.jpg');\r\nconst img3 = require('./img3.jpg');\r\n\r\nconst Carousel = () => {\r\n    return (\r\n        <div className='mb-5'>\r\n            <div id=\"carouselExampleIndicators\" className=\"carousel slide\" data-ride=\"carousel\">\r\n                <ol className=\"carousel-indicators\">\r\n                    <li data-target=\"#carouselExampleIndicators\" data-slide-to=\"0\" className=\"active\"></li>\r\n                    <li data-target=\"#carouselExampleIndicators\" data-slide-to=\"1\"></li>\r\n                    <li data-target=\"#carouselExampleIndicators\" data-slide-to=\"2\"></li>\r\n                </ol>\r\n\r\n                <div className=\"carousel-inner\">\r\n                    <div className=\"carousel-item active\">\r\n                        <img className=\"d-block w-100\" src={img1} alt=\"First slide\" />\r\n                    </div>\r\n                    <div className=\"carousel-item\">\r\n                        <img className=\"d-block w-100\" src={img2} alt=\"Second slide\" />\r\n                    </div>\r\n                    <div className=\"carousel-item\">\r\n                        <img className=\"d-block w-100\" src={img3} alt=\"Third slide\" />\r\n                    </div>\r\n                </div>\r\n\r\n                <a className=\"carousel-control-prev\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"prev\">\r\n                    <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n                    <span className=\"sr-only\">Previous</span>\r\n                </a>\r\n                <a className=\"carousel-control-next\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"next\">\r\n                    <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n                    <span className=\"sr-only\">Next</span>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Carousel;","import React, {useState, useEffect} from 'react';\r\nimport Layout from './Layout';\r\nimport {getProducts} from './apiCore';\r\nimport Card from './Card';\r\n// import Search from './Search';\r\nimport Carousel from './Carousel';\r\n\r\nconst Home = () =>  {\r\n    const [productsBySell, setProductsBySell] = useState([]);\r\n    const [productsByArrival, setProductsByArrival] = useState([]);\r\n    const [error, setError] = useState(false);\r\n\r\n    const loadProductsBySell = () => {\r\n        getProducts('sold').then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setProductsBySell(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    const loadProductsByArrival = () => {\r\n        getProducts('createdAt').then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setProductsByArrival(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadProductsByArrival();\r\n        loadProductsBySell();\r\n    }, []);\r\n\r\n    return (\r\n        <Layout title=\"Home Page\" description=\"MERN E-commerce App\" className=\"container-fluid\">\r\n            <Carousel />\r\n            {/* <Search /> */}\r\n            <h2 className=\"mb-4 text-center\">Yangi mahsulotlar</h2>\r\n            <div className=\"row\"> \r\n                {productsByArrival.map((product, i) => (\r\n                    <div key={i} className=\"col-md-3 mb-3 col-6\"> \r\n                        <Card key={i} product={product}/> \r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <h2 className=\"mb-4 text-center\">Sotuv xitlari</h2>\r\n            <div className=\"row\">\r\n                {productsBySell.map((product, i) => (\r\n                    <div key={i} className=\"col-md-3 mb-3 col-6\"> \r\n                        <Card key={i} product={product}/> \r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n                {error}\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Home;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route\r\n        {...rest}\r\n        render={props =>\r\n            isAuthenticated() ? (\r\n                <Component {...props} />\r\n            ) : (\r\n                <Redirect\r\n                    to={{\r\n                        pathname: \"/signin\",\r\n                        state: { from: props.location }\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    />\r\n);\r\n\r\nexport default PrivateRoute;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => (\r\n    <Route\r\n        {...rest}\r\n        render={props =>\r\n            isAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n                <Component {...props} />\r\n            ) : (\r\n                <Redirect\r\n                    to={{\r\n                        pathname: \"/signin\",\r\n                        state: { from: props.location }\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    />\r\n);\r\n\r\nexport default AdminRoute;","import React from 'react';\r\nimport Layout from '../core/Layout';\r\nimport {isAuthenticated} from '../auth';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Dashboard = () => {\r\n\r\n    const {user: {name, email}} = isAuthenticated();\r\n\r\n    const userLinks = () => {\r\n        return (\r\n            <div className=\"card\"> \r\n                <h4 className=\"card-header\"> User Links </h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\"> \r\n                        <Link className=\"nav-link\" to=\"/cart\"> My Shopping Cart </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\"> \r\n                        <Link className=\"nav-link\" to=\"/profile/update\"> Update My Profile </Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const userInfo = () => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\"> User Information </h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\"> {name} </li>\r\n                    <li className=\"list-group-item\"> {email} </li>\r\n                    <li className=\"list-group-item\">Registered User</li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const purchaseHistory = () => {\r\n        return (\r\n            <div className=\"card mb-5\">\r\n                <h3 className=\"card-header\"> Purchase History </h3>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\"> History </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <Layout title=\"Dashboard\" description={`Good day ${name}`} className=\"container-fluid\">\r\n            <div className=\"row\"> \r\n                <div className=\"col-3\"> \r\n                    {userLinks()}\r\n                </div>\r\n                <div className=\"col-3\"> \r\n                    {userInfo()}\r\n                </div>\r\n                <div className=\"col-6\"> \r\n                    {purchaseHistory()}\r\n                </div>\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Dashboard;","import { API } from '../config';\r\n\r\nexport const createCategory = (userId, token, category) => {\r\n    return fetch(`${API}/category/create/${userId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(category)\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const createProduct = (userId, token, product) => {\r\n    return fetch(`${API}/product/create/${userId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: product\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(err => {\r\n        console.log(err);\r\n    });\r\n};\r\n\r\nexport const deleteProduct = (userId, token, productId) => {\r\n    return fetch(`${API}/product/${productId}/${userId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(res => {\r\n        return res.json()\r\n    })\r\n    .catch(err => {\r\n        console.log(err)\r\n    })\r\n}\r\n\r\nexport const getCategories = () => {\r\n    return fetch(`${API}/categories`, {\r\n        method: 'GET'\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};","import React, {useState, useEffect} from 'react';\r\nimport Table from 'react-bootstrap/Table';\r\nimport Layout from '../core/Layout';\r\nimport { API } from '../config';\r\nimport {signout, isAuthenticated} from '../auth';\r\nimport {Link, withRouter} from 'react-router-dom';\r\nimport { deleteProduct } from '../admin/apiAdmin';\r\nimport { getAllProducts } from '../core/apiCore';\r\n\r\n\r\nconst AdminDashboard = ({history}) => {\r\n    const [products, setProducts] = useState([])\r\n\r\n    useEffect(() => {\r\n        getAllProducts().then(data => {\r\n            setProducts(data)\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n    }, [])\r\n\r\n    const {user, token} = isAuthenticated()\r\n\r\n    const handleDelete = async (id) => {\r\n        await deleteProduct(user._id, token, id).then(data => {\r\n            if(data) {\r\n                setProducts(products.filter(product => product._id !== id))\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n\r\n    const adminLinks = () => {\r\n        return (\r\n            <div className=\"card\"> \r\n                <h4 className=\"card-header\"> Admin Links </h4>\r\n                <ul className=\"list-group\">\r\n                    <li className=\"list-group-item\"> \r\n                        <Link className=\"nav-link\" to=\"/create/category\"> Yangi kategoriya yaratish </Link>\r\n                    </li>\r\n                    <li className=\"list-group-item\"> \r\n                        <Link className=\"nav-link\" to=\"/create/product\"> Mahsulot qo'shish </Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    function createMarkup(string) {\r\n        return {__html: string};\r\n    }\r\n\r\n    return (\r\n        <Layout title=\"Dashboard\" className=\"container-fluid\">\r\n            <div className=\"row\"> \r\n                <div className=\"col-6\"> \r\n                    {adminLinks()}\r\n                </div>\r\n                <div className=\"col-6\"> \r\n                {isAuthenticated() && (\r\n                <li className=\"list-group-item\">\r\n                    <button className='btn' onClick={() => signout(() => { history.push(\"/\"); }) }>\r\n                        <img className='mr-1' src=\"https://img.icons8.com/external-tanah-basah-basic-outline-tanah-basah/24/000000/external-Log-Out-arrows-tanah-basah-basic-outline-tanah-basah-2.png\" alt='img'/>\r\n                        Chiqish\r\n                    </button>\r\n                </li>\r\n                )}\r\n                </div>\r\n            </div>\r\n            <div>\r\n            <Table striped bordered hover>\r\n                <thead>\r\n                    <tr>\r\n                    <th>Rasmi</th>\r\n                    <th>Nomi</th>\r\n                    <th>Narxi</th>\r\n                    <th>Ma'lumot</th>\r\n                    <th>Kategoriya</th>\r\n                    <th>Sana</th>\r\n                    <th>O'chirish</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                {products && products.map((product, i) => (\r\n                        <tr key={i}>\r\n                            <td className='p-0'>\r\n                                <img src={`${API}/product/photo/${product._id}`} alt=\"product\" width={'150px'} />\r\n                            </td>\r\n                            <td>{product.name}</td>\r\n                            <td>{product.price} so'm</td>\r\n                            <td><div dangerouslySetInnerHTML={createMarkup(product.description)} /></td>\r\n                            <td>{product.category.name}</td>\r\n                            <td>{product.createdAt.split('T')[0]}</td>\r\n                            <td>\r\n                                <button className='btn' onClick={() => handleDelete(product._id)}><img src=\"https://img.icons8.com/small/32/000000/trash--v1.png\" alt='img'/></button>\r\n                            </td>\r\n                        </tr>\r\n                    ))} \r\n                </tbody>\r\n            </Table>\r\n                {/* <ul className='list-unstyled'>\r\n                    {products && products.map((product, i) => (\r\n                        <li key={i} className=\"row m-1 p-1 border rounded\">\r\n                            <img className='mr-3 img mr-2 border' src={`${API}/product/photo/${product._id}`} alt=\"product\" width={'150px'} />\r\n                            <h5 className='mr-3'>{product.name}</h5>\r\n                            <p className='mr-3'>{product.price} so'm</p>\r\n                            <p className='mr-2'>{product.description}</p>\r\n                            <p className='mr-2'>{product.category.name}</p>\r\n                            <p>{product.createdAt.split('T')[0]}</p>\r\n                            <button onClick={() => handleDelete(product._id)}>Del</button>\r\n                        </li>\r\n                    ))} \r\n                </ul> */}\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default withRouter(AdminDashboard);","import React, { useState } from \"react\";\r\nimport Layout from \"../core/Layout\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createCategory } from './apiAdmin';\r\n\r\nconst AddCategory = () => {\r\n    const [name, setName] = useState('');\r\n    const [error, setError] = useState(false);\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    const { user, token } = isAuthenticated();\r\n\r\n    const handleChange = e => {\r\n        setError(\"\");\r\n        setName(e.target.value);\r\n    };\r\n\r\n    const clickSubmit = e => {\r\n        e.preventDefault();\r\n        setError(\"\");\r\n        setSuccess(false);\r\n        console.log(user._id, token);\r\n        createCategory(user._id, token, { name }).then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setError(\"\");\r\n                setSuccess(true);\r\n            }\r\n        });\r\n    };\r\n\r\n    const newCategoryForm = () => (\r\n        <form onSubmit={clickSubmit}>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\"> Nomi </label>\r\n                <input type=\"text\" className=\"form-control\" onChange={handleChange} value={name} autoFocus required />\r\n            </div>\r\n            <button className=\"btn btn-primary btn-block\"> Kategoriya qo'shish </button>\r\n        </form>\r\n    );\r\n    \r\n    const showSuccess = () => {\r\n        if (success) {\r\n            return <h3 className=\"text-success\">{name} qo'shildi</h3>;\r\n        }\r\n    };\r\n\r\n    const showError = () => {\r\n        if (error) {\r\n            return <h3 className=\"text-danger\">Kategoriya mavjud</h3>;\r\n        }\r\n    };\r\n\r\n    const goBack = () => (\r\n        <div className=\"mt-5\">\r\n            <Link to=\"/admin/dashboard\" className=\"btn btn-danger btn-block\">\r\n                Dashboardga qaytish\r\n            </Link>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <Layout\r\n            title=\"Add a new category\" description={`Good Day ${user.name}, ready to add a new category?`} >\r\n            <div className=\"container\">\r\n                    {showSuccess()}\r\n                    {showError()}\r\n                    {newCategoryForm()}\r\n                    {goBack()}\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default AddCategory;","import React, { useState, useEffect } from 'react';\r\nimport Layout from '../core/Layout';\r\nimport { isAuthenticated } from '../auth';\r\n// import { Link } from 'react-router-dom';\r\nimport { createProduct, getCategories } from './apiAdmin';\r\nimport Loading from '../core/loading';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst AddProduct = () => {\r\n    const [selectedFile, setSelectedFile] = useState()\r\n    const [preview, setPreview] = useState()\r\n\r\n    // create a preview as a side effect, whenever selected file is changed\r\n    useEffect(() => {\r\n        if (!selectedFile) {\r\n            setPreview(undefined)\r\n            return\r\n        }\r\n\r\n        const objectUrl = URL.createObjectURL(selectedFile)\r\n        setPreview(objectUrl)\r\n\r\n        // free memory when ever this component is unmounted\r\n        return () => URL.revokeObjectURL(objectUrl)\r\n    }, [selectedFile])\r\n\r\n  \r\n    const [values, setValues] = useState({\r\n        name: '', description: '', price: '', categories: [], category: '',\r\n        photo: '', loading: false, error: '',\r\n        createdProduct: '', redirectToProfile: false, formData: ''\r\n    });\r\n\r\n    const { user, token } = isAuthenticated();\r\n\r\n    const {\r\n        name, description, price, categories,\r\n        loading, error, createdProduct, formData\r\n    } = values;\r\n\r\n     function init(){\r\n        getCategories().then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    categories: data,\r\n                    formData: new FormData()\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        init()\r\n    }, [])\r\n\r\n    const handleChange = name => e => {\r\n        if (name === 'photo') {\r\n            if (!e.target.files || e.target.files.length === 0) {\r\n                setSelectedFile(undefined)\r\n                return\r\n            }\r\n    \r\n            // I've kept this example simple by using the first image instead of multiple\r\n            setSelectedFile(e.target.files[0])\r\n        }\r\n        const value = name === 'photo' ? e.target.files[0] : e.target.value;\r\n        formData.set(name, value);\r\n        setValues({ ...values, [name]: value });\r\n    };\r\n\r\n    const clickSubmit = event => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: '', loading: true });\r\n\r\n        createProduct(user._id, token, formData).then(data => {\r\n            if (data.error) {\r\n                setValues({ ...values, error: data.error });\r\n            } else {\r\n                setValues({\r\n                    ...values, name: '', description: '', photo: '',\r\n                    price: '', quantity: '', loading: false, createdProduct: data.name\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    const newPostForm = () => (\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n            <h5>Rasm qo'shish</h5>\r\n            <div className=\"form-group\">\r\n                <label className=\"btn border rounded btn-block\">\r\n                    <input onChange={handleChange('photo')} type=\"file\" name=\"photo\" accept=\"image/*\" />\r\n                    {selectedFile &&  <img src={preview} alt=\"product\" width={\"250px\"} /> }\r\n                </label>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Nomi</label>\r\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name} placeholder='Mahsulot nomi' />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Ma'lumot</label>\r\n                <textarea onChange={handleChange('description')} className=\"form-control\" value={description} placeholder='Mahsulot haqida ma`lumot' />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Narxi</label>\r\n                <input onChange={handleChange('price')} type=\"number\" className=\"form-control\" value={price} placeholder='Mahsulot narxi' />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Kategoriya</label>\r\n                <select onChange={handleChange('category')} className=\"form-control\">\r\n                <option disabled selected>Tanlang</option>\r\n                    {categories &&\r\n                        categories.map((c, i) => (\r\n                            <option key={i} value={c._id}>\r\n                                {c.name}\r\n                            </option>\r\n                        ))}\r\n                </select>\r\n            </div>\r\n            <button className=\"btn btn-primary btn-block\">Qo'shish</button>\r\n        </form>\r\n    );\r\n    \r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    );\r\n\r\n    const showSuccess = () => (\r\n        <div className=\"loading text-white flex-column\" style={{ display: createdProduct ? '' : 'none' }}>\r\n            <h2>{`${createdProduct}`} qo'shildi</h2>\r\n            <Link className='btn bg-white mt-2' to='/admin/dashboard'>O'rtga qaytish</Link>\r\n        </div>\r\n    );\r\n\r\n    const showLoading = () => (\r\n        <Loading />\r\n    );\r\n\r\n    return (\r\n        <Layout title=\"Add a new product\" description={`Good Day ${user.name}, ready to add a new product?`}>\r\n            <div className=\"container\">\r\n                    {loading && showLoading()}\r\n                    {showSuccess()}\r\n                    {showError()}\r\n                    {newPostForm()}\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default AddProduct;","import React, { useState } from \"react\";\r\nimport './chekbox.css'\r\n\r\nconst Checkbox = ({ categories, handleFilters }) => {\r\n    const [checked, setCheked] = useState([]);\r\n\r\n    const handleToggle = c => () => {\r\n        const currentCategoryId = checked.indexOf(c);\r\n        const newCheckedCategoryId = [...checked];\r\n        \r\n        if (currentCategoryId === -1) {\r\n            newCheckedCategoryId.push(c);\r\n        } else {\r\n            newCheckedCategoryId.splice(currentCategoryId, 1);\r\n        }\r\n        // console.log(newCheckedCategoryId);\r\n        setCheked(newCheckedCategoryId);\r\n        handleFilters(newCheckedCategoryId);\r\n    };\r\n\r\n    return categories.map((c, i) => (\r\n        <li key={i} className=\"list-unstyled\">\r\n            <input\r\n                onChange={handleToggle(c._id)}\r\n                value={checked.indexOf(c._id === -1)}\r\n                type=\"checkbox\"\r\n                id={c.name}\r\n                name={c.name}\r\n                className=\"form-check-input chek-input\"\r\n            />\r\n            <label className=\"form-check-label chek\" htmlFor={c.name}>{c.name}</label>\r\n        </li>\r\n    ));\r\n};\r\n\r\nexport default Checkbox;","export const prices = [\r\n    {\r\n        _id: 0,\r\n        name: \"Any\",\r\n        array: []\r\n    },\r\n    {\r\n        _id: 1,\r\n        name: \"0 to 9\",\r\n        array: [0, 9]\r\n    },\r\n    {\r\n        _id: 2,\r\n        name: \"10 to 19\",\r\n        array: [10, 19]\r\n    },\r\n    {\r\n        _id: 3,\r\n        name: \"20 to 29\",\r\n        array: [20, 29]\r\n    },\r\n    {\r\n        _id: 4,\r\n        name: \"30 to 39\",\r\n        array: [30, 39]\r\n    },\r\n    {\r\n        _id: 5,\r\n        name: \"More than 40\",\r\n        array: [40, 99]\r\n    }\r\n];","import React, {useState, useEffect} from 'react';\r\nimport Layout from './Layout';\r\nimport Card from './Card';\r\nimport {getCategories, getFilteredProducts} from './apiCore';\r\nimport Checkbox from './Checkbox';\r\nimport {prices} from './fixedPrices';\r\n// import RadioBox from './RadioBox';\r\n\r\nconst Shop = () => {\r\n    const [myFilters, setMyFilters] = useState({\r\n        filters: { category: [], price: [] }\r\n    });\r\n    const [categories, setCategories] = useState([]);\r\n    const [error, setError] = useState(false);\r\n    const [limit, setLimit] = useState(12);\r\n    const [skip, setSkip] = useState(0);\r\n    const [size, setSize] = useState(0);\r\n    const [filteredResults, setFilteredResults] = useState([]);\r\n\r\n    \r\n    const loadFilteredResults = newFilters => {\r\n        getFilteredProducts(skip, limit, newFilters).then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setFilteredResults(data.data);\r\n                setSize(data.size);\r\n                setSkip(0);\r\n            }\r\n        });\r\n    };\r\n    \r\n\r\n    const loadMore = () => {\r\n        let toSkip = skip + limit;\r\n        getFilteredProducts(toSkip, limit, myFilters.filters).then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setFilteredResults([...filteredResults, ...data.data]);\r\n                setSize(data.size);\r\n                setSkip(toSkip);\r\n            }\r\n        });\r\n    };\r\n\r\n    const loadMoreButton = () => {\r\n        return (\r\n            size > 0 &&\r\n            size >= limit && (\r\n                <button onClick={loadMore} className=\"btn btn-outline-secondary btn-block ml-auto mr-auto mb-5\">\r\n                    Ko'proq ko'rish\r\n                </button>\r\n            )\r\n        );\r\n    };\r\n\r\n    useEffect(() => {\r\n        const init = () => {\r\n            getCategories().then(data => {\r\n                if (data.error) {\r\n                    setError(data.error);\r\n                } else {\r\n                    setCategories(data);\r\n                }\r\n            });\r\n        };\r\n        init();\r\n    }, []);\r\n    \r\n    useEffect(() => {\r\n        loadFilteredResults(skip, limit, myFilters.filters);\r\n    }, [])\r\n\r\n    const handleFilters = (filters, filterBy) => {\r\n        const newFilters = { ...myFilters };\r\n        newFilters.filters[filterBy] = filters;\r\n\r\n        if (filterBy === \"price\") {\r\n            let priceValues = handlePrice(filters);\r\n            newFilters.filters[filterBy] = priceValues;\r\n        }\r\n        loadFilteredResults(myFilters.filters);\r\n        setMyFilters(newFilters);\r\n    };\r\n\r\n    const handlePrice = value => {\r\n        const data = prices;\r\n        let array = [];\r\n\r\n        for (let key in data) {\r\n            if (data[key]._id === parseInt(value)) {\r\n                array = data[key].array;\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n\r\n    return (\r\n        <Layout title=\"Shop Page\" description=\"Search and Find your product\" className=\"container-fluid mt-5\">\r\n\r\n                    {/* <h4> Filter by price range </h4>\r\n                    <div>\r\n                    <RadioBox prices={prices} handleFilters={filters => handleFilters(filters, 'price')} />\r\n                </div> */}\r\n                <div>\r\n                    <h2 className=\"text-center\">Mahsulotlar</h2>\r\n                        <div className=\"d-flex mb-3\">\r\n                                <Checkbox categories={categories} handleFilters={filters => handleFilters(filters, 'category')} />\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            {filteredResults.map((product, i) => (\r\n                                <div key={i} className=\"col-md-3 mb-2 col-6\"> \r\n                                    <Card key={i} product={product} /> \r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        <hr />\r\n                        {loadMoreButton()}\r\n                </div>\r\n            <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n                {error}\r\n            </div>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Shop;","import React, { useState, useEffect } from 'react';\r\nimport Layout from './Layout';\r\nimport { read } from './apiCore';\r\nimport Card from './Card';\r\n// import Carousel from './Carousel';\r\n\r\n\r\nconst Product = props => {\r\n    const [product, setProduct] = useState({});\r\n    const [error, setError] = useState(false);\r\n\r\n    const loadSingleProduct = productId => {\r\n        read(productId).then(data => {\r\n            if (data.error) {\r\n                setError(data.error);\r\n            } else {\r\n                setProduct(data);\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        const productId = props.match.params.productId;\r\n        loadSingleProduct(productId);\r\n    }, [props]);\r\n\r\n    return (\r\n        <div>\r\n            {/* <Carousel /> */}\r\n            <Layout\r\n            title={product && product.name}\r\n            description={product && product.description && product.description.substring(0, 100)}\r\n            className=\"container-fluid\"\r\n        >\r\n            <div className=\"\">\r\n                <div className=\"d-flex align-items-center justify-content-start\">\r\n                    {product && product.description && <Card product={product} showViewProductButton={false} />}\r\n                </div>\r\n\r\n                {/* <div className=\"col-4\">\r\n                    <h4>Related products</h4>\r\n                    {relatedProduct.map((p, i) => (\r\n                        <div className=\"mb-3\" key={i}>\r\n                            <Card product={p} />\r\n                        </div>\r\n                    ))}\r\n                </div> */}\r\n            </div>\r\n            <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n                {error}\r\n            </div>\r\n        </Layout>\r\n    </div>\r\n    );\r\n};\r\n\r\nexport default Product;","import React from 'react';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport Signup from './user/Signup';\r\nimport Signin from './user/Signin';\r\nimport Home from './core/Home';\r\nimport './user/Routes.css';\r\nimport PrivateRoute from './auth/PrivateRoute';\r\nimport AdminRoute from './auth/AdminRoute';\r\nimport Dashboard from './user/UserDashboard';\r\nimport AdminDashboard from './user/AdminDashboard';\r\nimport AddCategory from './admin/AddCategory';\r\nimport AddProduct from './admin/AddProduct';\r\nimport Shop from './core/Shop';\r\nimport Product from './core/Product';\r\n\r\nconst Routes = () => {\r\n    return (\r\n        <BrowserRouter>\r\n            <Switch> \r\n                <Route path='/' exact component={Home} />\r\n                <Route path='/shop' exact component={Shop} />\r\n                <Route path='/signin' exact component={Signin} />\r\n                <Route path='/signup' exact component={Signup} />\r\n                <PrivateRoute path='/user/dashboard' exact component={Dashboard} />\r\n                <AdminRoute path='/admin/dashboard' exact component={AdminDashboard} />\r\n                <AdminRoute path='/create/category' exact component={AddCategory} />\r\n                <AdminRoute path='/create/product' exact component={AddProduct} />\r\n                <Route path='/product/:productId' exact component={Product} />\r\n            </Switch>\r\n        </BrowserRouter>\r\n    );\r\n};\r\n\r\nexport default Routes;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Routes from './Routes';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Routes />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}